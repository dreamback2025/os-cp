# 多道程序设计技术 - 进程/线程调度模拟器

这是一个基于Windows控制台的进程/线程调度模拟器，实现了时间片轮转调度算法，用于教学演示多道程序设计技术。

## 功能特性

### 1. 调度机制
- 实现时间片轮转（Round Robin）调度算法
- 支持多任务并发执行模拟
- 基于时间片的抢占式调度

### 2. 任务管理
- **手工输入任务**：用户可以手动创建任务，指定任务名称、优先级、执行时间和到达时间
- **自动产生任务**：系统可以自动生成测试任务

### 3. 时间控制
- **键盘控制时间流逝**：按任意键前进一个时间单位，按'q'退出调度
- 模拟真实操作系统的时间片调度机制

### 4. 日志记录与重放
- **执行日志记录**：记录每个时间单位的任务执行状态
- **文件存储**：将调度过程和结果保存到磁盘文件
- **日志重放**：可以从文件中读取并重放调度过程

### 5. 统计分析
- 显示任务的周转时间、等待时间等性能指标
- 提供详细的调度统计信息

## 系统架构

### 任务结构
- `Task` 结构体包含任务的基本信息：ID、名称、优先级、执行时间、到达时间等
- 任务状态：就绪(Ready)、运行(Running)、完成(Completed)

### 调度算法
- 使用轮转调度算法，每个任务获得固定的时间片
- 当时间片用完或任务完成时进行任务切换
- 采用循环队列方式选择下一个就绪任务

### 日志系统
- `ExecutionLog` 结构体记录每个时间点的执行状态
- 支持任务运行、任务切换、任务完成等事件的记录

## 使用说明

### 编译环境
- 使用Visual Studio 2022或更高版本
- 项目文件：`TaskScheduler.sln`

### 运行步骤
1. 启动程序后，选择添加任务（手工或自动）
2. 查看任务列表确认任务已添加
3. 运行调度器，按任意键前进一个时间单位
4. 查看执行日志和统计信息
5. 可选择保存日志到文件或从文件加载日志

### 主要菜单选项
- 1: 手工输入任务
- 2: 自动产生任务  
- 3: 运行调度器
- 4: 显示任务列表
- 5: 显示执行日志
- 6: 保存执行日志到文件
- 7: 从文件加载执行日志
- 8: 重放执行日志
- 9: 退出程序

## 教学价值

本项目展示了操作系统中进程/线程调度的核心概念：

1. **多任务并发**：多个任务交替执行的模拟
2. **CPU现场保护与恢复**：任务切换时的状态保存
3. **调度算法**：时间片轮转算法的具体实现
4. **进程状态转换**：就绪、运行、完成状态的转换
5. **性能分析**：周转时间、等待时间等调度指标

## 技术实现

- 使用C语言编写，兼容Windows平台
- 使用Windows API进行控制台操作
- 实现了完整的调度器状态机
- 提供了文件I/O功能用于日志持久化

## 文件结构
- `scheduler_simulator.c` - 主程序源代码
- `TaskScheduler.sln` - Visual Studio解决方案文件
- `TaskScheduler.vcxproj` - Visual Studio项目文件
- `execution_log.txt` - 默认的日志输出文件

本项目完全满足多道程序设计技术课程的要求，提供了直观的调度过程演示和完整的日志记录功能。